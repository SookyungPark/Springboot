<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <script>
        function register(){
            alert("awdef");
            //데이터 가져오고
            //json 객체로 만들기
            //확인하기
            //fetch 사용해서 등록하기

            let id = document.getElementById("id").value;
            let name = document.getElementById("name").value;
            let email = document.getElementById("email").value;

            let jsonData = {id :  id, name : name, email : email};
            console.log(jsonData);


            fetch("/members",{
                method:"post",
                headers:{"Content-Type":"application/json"},
                body:JSON.stringify(jsonData)

            }).
            then(response => response.text()).
            then( (data)=>{console.log(data);} ).
            catch( (err)=>{console.log(err);} );

        }


    </script>
</head>
<body>
    <input type="text" id="id">
    <input type="text" id="name">
    <input type="text" id="email">
    <button onclick="register()">등록</button>
</body>
</html>